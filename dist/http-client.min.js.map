{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///http-client.min.js","webpack:///webpack/bootstrap 22f31f2e9149057ed41d","webpack:///./~/whatwg-fetch/fetch.js","webpack:///./src/index.js","webpack:///./~/events/events.js","webpack:///./~/@fintechdev/x2-service-storage/lib/x2-service-storage.min.js","webpack:///(webpack)/buildin/module.js","webpack:///./~/relign/set-timeout.js","webpack:///./~/relign/exec.js","webpack:///./~/relign/set-interval.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","self","normalizeName","name","String","test","TypeError","toLowerCase","normalizeValue","value","iteratorFor","items","iterator","next","shift","done","undefined","support","iterable","Symbol","Headers","headers","map","forEach","append","Object","getOwnPropertyNames","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","error","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","Body","_initBody","_bodyInit","_bodyText","Blob","prototype","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","searchParams","URLSearchParams","toString","arrayBuffer","ArrayBuffer","Error","get","set","type","rejected","then","text","decode","json","JSON","parse","normalizeMethod","method","upcased","toUpperCase","methods","indexOf","Request","input","options","url","credentials","mode","referrer","form","trim","split","bytes","replace","join","decodeURIComponent","xhr","head","pairs","getAllResponseHeaders","header","key","Response","bodyInit","status","ok","statusText","fetch","e","list","push","values","getAll","has","hasOwnProperty","callback","thisArg","keys","entries","clone","response","redirectStatuses","redirect","RangeError","location","init","responseURL","getResponseHeader","request","XMLHttpRequest","responseText","ontimeout","open","withCredentials","responseType","setRequestHeader","send","polyfill","_interopRequireDefault","obj","__esModule","default","_asyncToGenerator","fn","gen","apply","arguments","step","arg","info","err","_classCallCheck","instance","Constructor","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","protoProps","staticProps","_events","_x2ServiceStorage","_x2ServiceStorage2","_setTimeout","_setTimeout2","_setInterval","_setInterval2","HTTP","_EventEmitter","_this","getPrototypeOf","token","tokenExpiriesAt","_baseUrl","_middlewares","_storage","_inactivityCheckInterval","_tokenRenewTimeout","_inactivityTimeout","_pageActivityDetected","_watchForPageActivity","_restoreExistingSession","isAuthenticated","opts","baseUrl","middlewares","_x2","_x3","_x4","_ref","regeneratorRuntime","mark","_callee","path","params","config","auth","wrap","_context","prev","_runMiddlewares","_fetchOptions","sent","_responseHandler","abrupt","stop","post","_x6","_x7","_x8","_ref2","_callee2","data","_context2","put","_x10","_x11","_x12","_ref3","_callee3","_context3","del","_x14","_x15","_ref4","_callee4","_context4","_this2","window","addEventListener","login","_x17","_x18","_ref5","_callee5","email","password","res","_context5","expiresAt","_startRenewTokenLoop","logout","_ref6","_callee6","_context6","remove","_stopRenewTokenLoop","requestPasswordReset","_x19","_ref7","_callee7","_context7","passwordReset","_x20","_x21","_ref8","_callee8","newPassword","passwordResetToken","_context8","_this3","startTokenRenewTimeout","_ref9","_callee10","renewTokenIn","_context10","clear","Date","_tokenExpiriesAt","getTime","now","_callee9","_context9","startInactivityTimeout","_ref11","_callee11","_context11","emit","inactivityCheck","Content-Type","authorization","stringify","_x23","_ref12","_callee12","_context12","middleware","EventEmitter","http","_maxListeners","isFunction","isNumber","isObject","_typeof","isUndefined","defaultMaxListeners","setMaxListeners","n","isNaN","er","handler","len","args","listeners","context","Array","slice","addListener","listener","newListener","warned","console","trace","on","once","g","removeListener","fired","position","splice","removeAllListeners","ret","listenerCount","evlistener","emitter","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","t","r","o","localStorage","sessionStorage","storage","getItem","setItem","removeItem","webpackPolyfill","deprecate","paths","children","global","_get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getter","exec","TimeoutPromise","_Promise","duration","timeoutData","timeoutId","setTimeout","_parent","_timeoutData","promise","val","clearTimeout","__timeoutData","d","IntervalPromise","_resolve","_intervalId","setInterval","clearInterval"],"mappings":"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","file":"http-client.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"http-client\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"http-client\"] = factory();\n\telse\n\t\troot[\"http-client\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"http-client\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"http-client\"] = factory();\n\telse\n\t\troot[\"http-client\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(1);\n\tmodule.exports = __webpack_require__(2);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t(function (self) {\n\t  'use strict';\n\t\n\t  if (self.fetch) {\n\t    return;\n\t  }\n\t\n\t  var support = {\n\t    searchParams: 'URLSearchParams' in self,\n\t    iterable: 'Symbol' in self && 'iterator' in Symbol,\n\t    blob: 'FileReader' in self && 'Blob' in self && function () {\n\t      try {\n\t        new Blob();\n\t        return true;\n\t      } catch (e) {\n\t        return false;\n\t      }\n\t    }(),\n\t    formData: 'FormData' in self,\n\t    arrayBuffer: 'ArrayBuffer' in self\n\t  };\n\t\n\t  function normalizeName(name) {\n\t    if (typeof name !== 'string') {\n\t      name = String(name);\n\t    }\n\t    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n\t      throw new TypeError('Invalid character in header field name');\n\t    }\n\t    return name.toLowerCase();\n\t  }\n\t\n\t  function normalizeValue(value) {\n\t    if (typeof value !== 'string') {\n\t      value = String(value);\n\t    }\n\t    return value;\n\t  }\n\t\n\t  // Build a destructive iterator for the value list\n\t  function iteratorFor(items) {\n\t    var iterator = {\n\t      next: function next() {\n\t        var value = items.shift();\n\t        return { done: value === undefined, value: value };\n\t      }\n\t    };\n\t\n\t    if (support.iterable) {\n\t      iterator[Symbol.iterator] = function () {\n\t        return iterator;\n\t      };\n\t    }\n\t\n\t    return iterator;\n\t  }\n\t\n\t  function Headers(headers) {\n\t    this.map = {};\n\t\n\t    if (headers instanceof Headers) {\n\t      headers.forEach(function (value, name) {\n\t        this.append(name, value);\n\t      }, this);\n\t    } else if (headers) {\n\t      Object.getOwnPropertyNames(headers).forEach(function (name) {\n\t        this.append(name, headers[name]);\n\t      }, this);\n\t    }\n\t  }\n\t\n\t  Headers.prototype.append = function (name, value) {\n\t    name = normalizeName(name);\n\t    value = normalizeValue(value);\n\t    var list = this.map[name];\n\t    if (!list) {\n\t      list = [];\n\t      this.map[name] = list;\n\t    }\n\t    list.push(value);\n\t  };\n\t\n\t  Headers.prototype['delete'] = function (name) {\n\t    delete this.map[normalizeName(name)];\n\t  };\n\t\n\t  Headers.prototype.get = function (name) {\n\t    var values = this.map[normalizeName(name)];\n\t    return values ? values[0] : null;\n\t  };\n\t\n\t  Headers.prototype.getAll = function (name) {\n\t    return this.map[normalizeName(name)] || [];\n\t  };\n\t\n\t  Headers.prototype.has = function (name) {\n\t    return this.map.hasOwnProperty(normalizeName(name));\n\t  };\n\t\n\t  Headers.prototype.set = function (name, value) {\n\t    this.map[normalizeName(name)] = [normalizeValue(value)];\n\t  };\n\t\n\t  Headers.prototype.forEach = function (callback, thisArg) {\n\t    Object.getOwnPropertyNames(this.map).forEach(function (name) {\n\t      this.map[name].forEach(function (value) {\n\t        callback.call(thisArg, value, name, this);\n\t      }, this);\n\t    }, this);\n\t  };\n\t\n\t  Headers.prototype.keys = function () {\n\t    var items = [];\n\t    this.forEach(function (value, name) {\n\t      items.push(name);\n\t    });\n\t    return iteratorFor(items);\n\t  };\n\t\n\t  Headers.prototype.values = function () {\n\t    var items = [];\n\t    this.forEach(function (value) {\n\t      items.push(value);\n\t    });\n\t    return iteratorFor(items);\n\t  };\n\t\n\t  Headers.prototype.entries = function () {\n\t    var items = [];\n\t    this.forEach(function (value, name) {\n\t      items.push([name, value]);\n\t    });\n\t    return iteratorFor(items);\n\t  };\n\t\n\t  if (support.iterable) {\n\t    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n\t  }\n\t\n\t  function consumed(body) {\n\t    if (body.bodyUsed) {\n\t      return Promise.reject(new TypeError('Already read'));\n\t    }\n\t    body.bodyUsed = true;\n\t  }\n\t\n\t  function fileReaderReady(reader) {\n\t    return new Promise(function (resolve, reject) {\n\t      reader.onload = function () {\n\t        resolve(reader.result);\n\t      };\n\t      reader.onerror = function () {\n\t        reject(reader.error);\n\t      };\n\t    });\n\t  }\n\t\n\t  function readBlobAsArrayBuffer(blob) {\n\t    var reader = new FileReader();\n\t    reader.readAsArrayBuffer(blob);\n\t    return fileReaderReady(reader);\n\t  }\n\t\n\t  function readBlobAsText(blob) {\n\t    var reader = new FileReader();\n\t    reader.readAsText(blob);\n\t    return fileReaderReady(reader);\n\t  }\n\t\n\t  function Body() {\n\t    this.bodyUsed = false;\n\t\n\t    this._initBody = function (body) {\n\t      this._bodyInit = body;\n\t      if (typeof body === 'string') {\n\t        this._bodyText = body;\n\t      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n\t        this._bodyBlob = body;\n\t      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n\t        this._bodyFormData = body;\n\t      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n\t        this._bodyText = body.toString();\n\t      } else if (!body) {\n\t        this._bodyText = '';\n\t      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n\t        // Only support ArrayBuffers for POST method.\n\t        // Receiving ArrayBuffers happens via Blobs, instead.\n\t      } else {\n\t        throw new Error('unsupported BodyInit type');\n\t      }\n\t\n\t      if (!this.headers.get('content-type')) {\n\t        if (typeof body === 'string') {\n\t          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n\t        } else if (this._bodyBlob && this._bodyBlob.type) {\n\t          this.headers.set('content-type', this._bodyBlob.type);\n\t        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n\t          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n\t        }\n\t      }\n\t    };\n\t\n\t    if (support.blob) {\n\t      this.blob = function () {\n\t        var rejected = consumed(this);\n\t        if (rejected) {\n\t          return rejected;\n\t        }\n\t\n\t        if (this._bodyBlob) {\n\t          return Promise.resolve(this._bodyBlob);\n\t        } else if (this._bodyFormData) {\n\t          throw new Error('could not read FormData body as blob');\n\t        } else {\n\t          return Promise.resolve(new Blob([this._bodyText]));\n\t        }\n\t      };\n\t\n\t      this.arrayBuffer = function () {\n\t        return this.blob().then(readBlobAsArrayBuffer);\n\t      };\n\t\n\t      this.text = function () {\n\t        var rejected = consumed(this);\n\t        if (rejected) {\n\t          return rejected;\n\t        }\n\t\n\t        if (this._bodyBlob) {\n\t          return readBlobAsText(this._bodyBlob);\n\t        } else if (this._bodyFormData) {\n\t          throw new Error('could not read FormData body as text');\n\t        } else {\n\t          return Promise.resolve(this._bodyText);\n\t        }\n\t      };\n\t    } else {\n\t      this.text = function () {\n\t        var rejected = consumed(this);\n\t        return rejected ? rejected : Promise.resolve(this._bodyText);\n\t      };\n\t    }\n\t\n\t    if (support.formData) {\n\t      this.formData = function () {\n\t        return this.text().then(decode);\n\t      };\n\t    }\n\t\n\t    this.json = function () {\n\t      return this.text().then(JSON.parse);\n\t    };\n\t\n\t    return this;\n\t  }\n\t\n\t  // HTTP methods whose capitalization should be normalized\n\t  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\t\n\t  function normalizeMethod(method) {\n\t    var upcased = method.toUpperCase();\n\t    return methods.indexOf(upcased) > -1 ? upcased : method;\n\t  }\n\t\n\t  function Request(input, options) {\n\t    options = options || {};\n\t    var body = options.body;\n\t    if (Request.prototype.isPrototypeOf(input)) {\n\t      if (input.bodyUsed) {\n\t        throw new TypeError('Already read');\n\t      }\n\t      this.url = input.url;\n\t      this.credentials = input.credentials;\n\t      if (!options.headers) {\n\t        this.headers = new Headers(input.headers);\n\t      }\n\t      this.method = input.method;\n\t      this.mode = input.mode;\n\t      if (!body) {\n\t        body = input._bodyInit;\n\t        input.bodyUsed = true;\n\t      }\n\t    } else {\n\t      this.url = input;\n\t    }\n\t\n\t    this.credentials = options.credentials || this.credentials || 'omit';\n\t    if (options.headers || !this.headers) {\n\t      this.headers = new Headers(options.headers);\n\t    }\n\t    this.method = normalizeMethod(options.method || this.method || 'GET');\n\t    this.mode = options.mode || this.mode || null;\n\t    this.referrer = null;\n\t\n\t    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n\t      throw new TypeError('Body not allowed for GET or HEAD requests');\n\t    }\n\t    this._initBody(body);\n\t  }\n\t\n\t  Request.prototype.clone = function () {\n\t    return new Request(this);\n\t  };\n\t\n\t  function decode(body) {\n\t    var form = new FormData();\n\t    body.trim().split('&').forEach(function (bytes) {\n\t      if (bytes) {\n\t        var split = bytes.split('=');\n\t        var name = split.shift().replace(/\\+/g, ' ');\n\t        var value = split.join('=').replace(/\\+/g, ' ');\n\t        form.append(decodeURIComponent(name), decodeURIComponent(value));\n\t      }\n\t    });\n\t    return form;\n\t  }\n\t\n\t  function headers(xhr) {\n\t    var head = new Headers();\n\t    var pairs = (xhr.getAllResponseHeaders() || '').trim().split('\\n');\n\t    pairs.forEach(function (header) {\n\t      var split = header.trim().split(':');\n\t      var key = split.shift().trim();\n\t      var value = split.join(':').trim();\n\t      head.append(key, value);\n\t    });\n\t    return head;\n\t  }\n\t\n\t  Body.call(Request.prototype);\n\t\n\t  function Response(bodyInit, options) {\n\t    if (!options) {\n\t      options = {};\n\t    }\n\t\n\t    this.type = 'default';\n\t    this.status = options.status;\n\t    this.ok = this.status >= 200 && this.status < 300;\n\t    this.statusText = options.statusText;\n\t    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers);\n\t    this.url = options.url || '';\n\t    this._initBody(bodyInit);\n\t  }\n\t\n\t  Body.call(Response.prototype);\n\t\n\t  Response.prototype.clone = function () {\n\t    return new Response(this._bodyInit, {\n\t      status: this.status,\n\t      statusText: this.statusText,\n\t      headers: new Headers(this.headers),\n\t      url: this.url\n\t    });\n\t  };\n\t\n\t  Response.error = function () {\n\t    var response = new Response(null, { status: 0, statusText: '' });\n\t    response.type = 'error';\n\t    return response;\n\t  };\n\t\n\t  var redirectStatuses = [301, 302, 303, 307, 308];\n\t\n\t  Response.redirect = function (url, status) {\n\t    if (redirectStatuses.indexOf(status) === -1) {\n\t      throw new RangeError('Invalid status code');\n\t    }\n\t\n\t    return new Response(null, { status: status, headers: { location: url } });\n\t  };\n\t\n\t  self.Headers = Headers;\n\t  self.Request = Request;\n\t  self.Response = Response;\n\t\n\t  self.fetch = function (input, init) {\n\t    return new Promise(function (resolve, reject) {\n\t      var request;\n\t      if (Request.prototype.isPrototypeOf(input) && !init) {\n\t        request = input;\n\t      } else {\n\t        request = new Request(input, init);\n\t      }\n\t\n\t      var xhr = new XMLHttpRequest();\n\t\n\t      function responseURL() {\n\t        if ('responseURL' in xhr) {\n\t          return xhr.responseURL;\n\t        }\n\t\n\t        // Avoid security warnings on getResponseHeader when not allowed by CORS\n\t        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n\t          return xhr.getResponseHeader('X-Request-URL');\n\t        }\n\t\n\t        return;\n\t      }\n\t\n\t      xhr.onload = function () {\n\t        var options = {\n\t          status: xhr.status,\n\t          statusText: xhr.statusText,\n\t          headers: headers(xhr),\n\t          url: responseURL()\n\t        };\n\t        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n\t        resolve(new Response(body, options));\n\t      };\n\t\n\t      xhr.onerror = function () {\n\t        reject(new TypeError('Network request failed'));\n\t      };\n\t\n\t      xhr.ontimeout = function () {\n\t        reject(new TypeError('Network request failed'));\n\t      };\n\t\n\t      xhr.open(request.method, request.url, true);\n\t\n\t      if (request.credentials === 'include') {\n\t        xhr.withCredentials = true;\n\t      }\n\t\n\t      if ('responseType' in xhr && support.blob) {\n\t        xhr.responseType = 'blob';\n\t      }\n\t\n\t      request.headers.forEach(function (value, name) {\n\t        xhr.setRequestHeader(name, value);\n\t      });\n\t\n\t      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n\t    });\n\t  };\n\t  self.fetch.polyfill = true;\n\t})(typeof self !== 'undefined' ? self : undefined);\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\t__webpack_require__(1);\n\t\n\tvar _events = __webpack_require__(3);\n\t\n\tvar _x2ServiceStorage = __webpack_require__(4);\n\t\n\tvar _x2ServiceStorage2 = _interopRequireDefault(_x2ServiceStorage);\n\t\n\tvar _setTimeout = __webpack_require__(6);\n\t\n\tvar _setTimeout2 = _interopRequireDefault(_setTimeout);\n\t\n\tvar _setInterval = __webpack_require__(8);\n\t\n\tvar _setInterval2 = _interopRequireDefault(_setInterval);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar HTTP = function (_EventEmitter) {\n\t  _inherits(HTTP, _EventEmitter);\n\t\n\t  function HTTP() {\n\t    _classCallCheck(this, HTTP);\n\t\n\t    var _this = _possibleConstructorReturn(this, (HTTP.__proto__ || Object.getPrototypeOf(HTTP)).call(this));\n\t\n\t    _this.token = null;\n\t    _this.tokenExpiriesAt = null;\n\t\n\t    _this._baseUrl = '';\n\t    _this._middlewares = [];\n\t\n\t    _this._storage = new _x2ServiceStorage2.default();\n\t    _this._inactivityCheckInterval = null;\n\t    _this._tokenRenewTimeout = null;\n\t    _this._inactivityTimeout = null;\n\t    _this._pageActivityDetected = false;\n\t    _this._watchForPageActivity = false;\n\t\n\t    _this._restoreExistingSession();\n\t\n\t    _this.isAuthenticated = _this.token !== null;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(HTTP, [{\n\t    key: 'init',\n\t    value: function init() {\n\t      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t      this._baseUrl = opts.baseUrl;\n\t      this._middlewares = opts.middlewares || [];\n\t    }\n\t  }, {\n\t    key: 'get',\n\t    value: function () {\n\t      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(path, params) {\n\t        var auth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\t        var url, config, response;\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                url = '' + this._baseUrl + path;\n\t                config = this._runMiddlewares(this._fetchOptions({ body: params }), auth);\n\t                _context.next = 4;\n\t                return fetch(url, config);\n\t\n\t              case 4:\n\t                response = _context.sent;\n\t                _context.next = 7;\n\t                return this._responseHandler(response);\n\t\n\t              case 7:\n\t                return _context.abrupt('return', _context.sent);\n\t\n\t              case 8:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, this);\n\t      }));\n\t\n\t      function get(_x2, _x3, _x4) {\n\t        return _ref.apply(this, arguments);\n\t      }\n\t\n\t      return get;\n\t    }()\n\t  }, {\n\t    key: 'post',\n\t    value: function () {\n\t      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(path, data) {\n\t        var auth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\t        var url, config, response;\n\t        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t          while (1) {\n\t            switch (_context2.prev = _context2.next) {\n\t              case 0:\n\t                url = '' + this._baseUrl + path;\n\t                config = this._runMiddlewares(this._fetchOptions({ body: data, method: 'POST' }), auth);\n\t                _context2.next = 4;\n\t                return fetch(url, config);\n\t\n\t              case 4:\n\t                response = _context2.sent;\n\t                _context2.next = 7;\n\t                return this._responseHandler(response);\n\t\n\t              case 7:\n\t                return _context2.abrupt('return', _context2.sent);\n\t\n\t              case 8:\n\t              case 'end':\n\t                return _context2.stop();\n\t            }\n\t          }\n\t        }, _callee2, this);\n\t      }));\n\t\n\t      function post(_x6, _x7, _x8) {\n\t        return _ref2.apply(this, arguments);\n\t      }\n\t\n\t      return post;\n\t    }()\n\t  }, {\n\t    key: 'put',\n\t    value: function () {\n\t      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(path, data) {\n\t        var auth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\t        var url, config, response;\n\t        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n\t          while (1) {\n\t            switch (_context3.prev = _context3.next) {\n\t              case 0:\n\t                url = '' + this._baseUrl + path;\n\t                config = this._runMiddlewares(this._fetchOptions({ body: data, method: 'PUT' }), auth);\n\t                _context3.next = 4;\n\t                return fetch(url, config);\n\t\n\t              case 4:\n\t                response = _context3.sent;\n\t                _context3.next = 7;\n\t                return this._responseHandler(response);\n\t\n\t              case 7:\n\t                return _context3.abrupt('return', _context3.sent);\n\t\n\t              case 8:\n\t              case 'end':\n\t                return _context3.stop();\n\t            }\n\t          }\n\t        }, _callee3, this);\n\t      }));\n\t\n\t      function put(_x10, _x11, _x12) {\n\t        return _ref3.apply(this, arguments);\n\t      }\n\t\n\t      return put;\n\t    }()\n\t  }, {\n\t    key: 'del',\n\t    value: function () {\n\t      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(path) {\n\t        var auth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\t        var url, config, response;\n\t        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n\t          while (1) {\n\t            switch (_context4.prev = _context4.next) {\n\t              case 0:\n\t                url = '' + this._baseUrl + path;\n\t                config = this._runMiddlewares(this._fetchOptions({ method: 'DELETE' }), auth);\n\t                _context4.next = 4;\n\t                return fetch(url, config);\n\t\n\t              case 4:\n\t                response = _context4.sent;\n\t                _context4.next = 7;\n\t                return this._responseHandler(response);\n\t\n\t              case 7:\n\t                return _context4.abrupt('return', _context4.sent);\n\t\n\t              case 8:\n\t              case 'end':\n\t                return _context4.stop();\n\t            }\n\t          }\n\t        }, _callee4, this);\n\t      }));\n\t\n\t      function del(_x14, _x15) {\n\t        return _ref4.apply(this, arguments);\n\t      }\n\t\n\t      return del;\n\t    }()\n\t  }, {\n\t    key: 'watchForInactivity',\n\t    value: function watchForInactivity() {\n\t      var _this2 = this;\n\t\n\t      if (this._watchForPageActivity) {\n\t        return;\n\t      }\n\t      window.addEventListener('keydown', function () {\n\t        _this2._pageActivityDetected = true;\n\t      });\n\t      window.addEventListener('mousemove', function () {\n\t        _this2._pageActivityDetected = true;\n\t      });\n\t      this._watchForPageActivity = true;\n\t    }\n\t  }, {\n\t    key: 'login',\n\t    value: function () {\n\t      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(email, password) {\n\t        var res;\n\t        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n\t          while (1) {\n\t            switch (_context5.prev = _context5.next) {\n\t              case 0:\n\t                _context5.next = 2;\n\t                return this.post('/token', { email: email, password: password });\n\t\n\t              case 2:\n\t                res = _context5.sent;\n\t\n\t\n\t                this.isAuthenticated = true;\n\t                this.token = res.token;\n\t                this.tokenExpiriesAt = res.expiresAt;\n\t\n\t                this._storage.set('token', res.token);\n\t                this._storage.set('tokenExpiriesAt', res.expiresAt);\n\t\n\t                if (this._watchForPageActivity) {\n\t                  this._startRenewTokenLoop();\n\t                }\n\t\n\t              case 9:\n\t              case 'end':\n\t                return _context5.stop();\n\t            }\n\t          }\n\t        }, _callee5, this);\n\t      }));\n\t\n\t      function login(_x17, _x18) {\n\t        return _ref5.apply(this, arguments);\n\t      }\n\t\n\t      return login;\n\t    }()\n\t  }, {\n\t    key: 'logout',\n\t    value: function () {\n\t      var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee6() {\n\t        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n\t          while (1) {\n\t            switch (_context6.prev = _context6.next) {\n\t              case 0:\n\t                this.isAuthenticated = false;\n\t                delete this.token;\n\t                this._storage.remove('token');\n\t                this._storage.remove('tokenExpiriesAt');\n\t\n\t                this._stopRenewTokenLoop();\n\t\n\t              case 5:\n\t              case 'end':\n\t                return _context6.stop();\n\t            }\n\t          }\n\t        }, _callee6, this);\n\t      }));\n\t\n\t      function logout() {\n\t        return _ref6.apply(this, arguments);\n\t      }\n\t\n\t      return logout;\n\t    }()\n\t  }, {\n\t    key: 'requestPasswordReset',\n\t    value: function () {\n\t      var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee7(email) {\n\t        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n\t          while (1) {\n\t            switch (_context7.prev = _context7.next) {\n\t              case 0:\n\t                _context7.next = 2;\n\t                return this.post('/user/send-password-reset/' + email);\n\t\n\t              case 2:\n\t              case 'end':\n\t                return _context7.stop();\n\t            }\n\t          }\n\t        }, _callee7, this);\n\t      }));\n\t\n\t      function requestPasswordReset(_x19) {\n\t        return _ref7.apply(this, arguments);\n\t      }\n\t\n\t      return requestPasswordReset;\n\t    }()\n\t  }, {\n\t    key: 'passwordReset',\n\t    value: function () {\n\t      var _ref8 = _asyncToGenerator(regeneratorRuntime.mark(function _callee8(newPassword, passwordResetToken) {\n\t        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n\t          while (1) {\n\t            switch (_context8.prev = _context8.next) {\n\t              case 0:\n\t                _context8.next = 2;\n\t                return this.post('/user/reset-password/' + passwordResetToken, { newPassword: newPassword });\n\t\n\t              case 2:\n\t              case 'end':\n\t                return _context8.stop();\n\t            }\n\t          }\n\t        }, _callee8, this);\n\t      }));\n\t\n\t      function passwordReset(_x20, _x21) {\n\t        return _ref8.apply(this, arguments);\n\t      }\n\t\n\t      return passwordReset;\n\t    }()\n\t  }, {\n\t    key: '_restoreExistingSession',\n\t    value: function _restoreExistingSession() {\n\t      this.token = this._storage.get('token') || null;\n\t    }\n\t  }, {\n\t    key: '_startRenewTokenLoop',\n\t    value: function _startRenewTokenLoop() {\n\t      var _this3 = this;\n\t\n\t      var startTokenRenewTimeout = function () {\n\t        var _ref9 = _asyncToGenerator(regeneratorRuntime.mark(function _callee10() {\n\t          var renewTokenIn;\n\t          return regeneratorRuntime.wrap(function _callee10$(_context10) {\n\t            while (1) {\n\t              switch (_context10.prev = _context10.next) {\n\t                case 0:\n\t                  if (_this3._tokenRenewTimeout) {\n\t                    _this3._tokenRenewTimeout.clear();\n\t                    _this3._tokenRenewTimeout = null;\n\t                  }\n\t\n\t                  renewTokenIn = new Date(_this3._tokenExpiriesAt).getTime() - Date.now();\n\t\n\t\n\t                  _this3._tokenRenewTimeout = (0, _setTimeout2.default)(_asyncToGenerator(regeneratorRuntime.mark(function _callee9() {\n\t                    var res;\n\t                    return regeneratorRuntime.wrap(function _callee9$(_context9) {\n\t                      while (1) {\n\t                        switch (_context9.prev = _context9.next) {\n\t                          case 0:\n\t                            _context9.next = 2;\n\t                            return _this3.put('/token');\n\t\n\t                          case 2:\n\t                            res = _context9.sent;\n\t\n\t\n\t                            _this3.tokenExpiriesAt = res.expiresAt;\n\t                            _this3._storage.set('tokenExpiriesAt', res.expiresAt);\n\t\n\t                          case 5:\n\t                          case 'end':\n\t                            return _context9.stop();\n\t                        }\n\t                      }\n\t                    }, _callee9, _this3);\n\t                  })), renewTokenIn);\n\t\n\t                case 3:\n\t                case 'end':\n\t                  return _context10.stop();\n\t              }\n\t            }\n\t          }, _callee10, _this3);\n\t        }));\n\t\n\t        return function startTokenRenewTimeout() {\n\t          return _ref9.apply(this, arguments);\n\t        };\n\t      }();\n\t\n\t      var startInactivityTimeout = function () {\n\t        var _ref11 = _asyncToGenerator(regeneratorRuntime.mark(function _callee11() {\n\t          return regeneratorRuntime.wrap(function _callee11$(_context11) {\n\t            while (1) {\n\t              switch (_context11.prev = _context11.next) {\n\t                case 0:\n\t                  if (_this3._inactivityTimeout) {\n\t                    _this3._inactivityTimeout.clear();\n\t                    _this3._inactivityTimeout = null;\n\t                  }\n\t                  _this3._inactivityTimeout = (0, _setTimeout2.default)(function () {\n\t                    _this3.delete('/token');\n\t                    _this3.emit('session-expired');\n\t                  }, 1000 * 20); // 20 minutes\n\t\n\t                case 2:\n\t                case 'end':\n\t                  return _context11.stop();\n\t              }\n\t            }\n\t          }, _callee11, _this3);\n\t        }));\n\t\n\t        return function startInactivityTimeout() {\n\t          return _ref11.apply(this, arguments);\n\t        };\n\t      }();\n\t\n\t      var inactivityCheck = function inactivityCheck() {\n\t        if (_this3._pageActivityDetected) {\n\t          _this3._pageActivityDetected = false;\n\t          return;\n\t        }\n\t        startInactivityTimeout();\n\t      };\n\t\n\t      this._inactivityCheckInterval = (0, _setInterval2.default)(inactivityCheck, 500);\n\t      startTokenRenewTimeout();\n\t    }\n\t  }, {\n\t    key: '_stopRenewTokenLoop',\n\t    value: function _stopRenewTokenLoop() {\n\t      if (this._tokenRenewTimeout) {\n\t        this._tokenRenewTimeout.clear();\n\t        this._tokenRenewTimeout = null;\n\t      }\n\t      if (this._inactivityTimeout) {\n\t        this._inactivityTimeout.clear();\n\t        this._inactivityTimeout = null;\n\t      }\n\t      if (this._inactivityCheckInterval) {\n\t        this._inactivityCheckInterval.clear();\n\t        this._inactivityCheckInterval = null;\n\t      }\n\t    }\n\t  }, {\n\t    key: '_fetchOptions',\n\t    value: function _fetchOptions() {\n\t      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t      var headers = { 'Content-Type': 'application/json' };\n\t      if (this.isAuthenticated) {\n\t        headers.authorization = this.token;\n\t      }\n\t      return {\n\t        method: opts.method || 'GET',\n\t        body: opts.body ? JSON.stringify(opts.body) : undefined,\n\t        headers: headers\n\t      };\n\t    }\n\t  }, {\n\t    key: '_responseHandler',\n\t    value: function () {\n\t      var _ref12 = _asyncToGenerator(regeneratorRuntime.mark(function _callee12(response) {\n\t        return regeneratorRuntime.wrap(function _callee12$(_context12) {\n\t          while (1) {\n\t            switch (_context12.prev = _context12.next) {\n\t              case 0:\n\t                if (!response.ok) {\n\t                  _context12.next = 4;\n\t                  break;\n\t                }\n\t\n\t                _context12.next = 3;\n\t                return response.json();\n\t\n\t              case 3:\n\t                return _context12.abrupt('return', _context12.sent);\n\t\n\t              case 4:\n\t                this.emit('http-client:error', {\n\t                  status: response.status,\n\t                  statusText: response.statusText\n\t                });\n\t                throw new Error(response.status + ': ' + response.statusText);\n\t\n\t              case 6:\n\t              case 'end':\n\t                return _context12.stop();\n\t            }\n\t          }\n\t        }, _callee12, this);\n\t      }));\n\t\n\t      function _responseHandler(_x23) {\n\t        return _ref12.apply(this, arguments);\n\t      }\n\t\n\t      return _responseHandler;\n\t    }()\n\t  }, {\n\t    key: '_runMiddlewares',\n\t    value: function _runMiddlewares(config, auth) {\n\t      this._middlewares.forEach(function (middleware) {\n\t        return middleware(config, auth);\n\t      });\n\t      return config;\n\t    }\n\t  }]);\n\t\n\t  return HTTP;\n\t}(_events.EventEmitter);\n\t\n\tvar http = new HTTP();\n\thttp.HTTP = HTTP;\n\texports.default = http;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\tfunction EventEmitter() {\n\t  this._events = this._events || {};\n\t  this._maxListeners = this._maxListeners || undefined;\n\t}\n\tmodule.exports = EventEmitter;\n\t\n\t// Backwards-compat with node 0.10.x\n\tEventEmitter.EventEmitter = EventEmitter;\n\t\n\tEventEmitter.prototype._events = undefined;\n\tEventEmitter.prototype._maxListeners = undefined;\n\t\n\t// By default EventEmitters will print a warning if more than 10 listeners are\n\t// added to it. This is a useful default which helps finding memory leaks.\n\tEventEmitter.defaultMaxListeners = 10;\n\t\n\t// Obviously not all Emitters should be limited to 10. This function allows\n\t// that to be increased. Set to zero for unlimited.\n\tEventEmitter.prototype.setMaxListeners = function (n) {\n\t  if (!isNumber(n) || n < 0 || isNaN(n)) throw TypeError('n must be a positive number');\n\t  this._maxListeners = n;\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.emit = function (type) {\n\t  var er, handler, len, args, i, listeners;\n\t\n\t  if (!this._events) this._events = {};\n\t\n\t  // If there is no 'error' event listener then throw.\n\t  if (type === 'error') {\n\t    if (!this._events.error || isObject(this._events.error) && !this._events.error.length) {\n\t      er = arguments[1];\n\t      if (er instanceof Error) {\n\t        throw er; // Unhandled 'error' event\n\t      } else {\n\t        // At least give some kind of context to the user\n\t        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n\t        err.context = er;\n\t        throw err;\n\t      }\n\t    }\n\t  }\n\t\n\t  handler = this._events[type];\n\t\n\t  if (isUndefined(handler)) return false;\n\t\n\t  if (isFunction(handler)) {\n\t    switch (arguments.length) {\n\t      // fast cases\n\t      case 1:\n\t        handler.call(this);\n\t        break;\n\t      case 2:\n\t        handler.call(this, arguments[1]);\n\t        break;\n\t      case 3:\n\t        handler.call(this, arguments[1], arguments[2]);\n\t        break;\n\t      // slower\n\t      default:\n\t        args = Array.prototype.slice.call(arguments, 1);\n\t        handler.apply(this, args);\n\t    }\n\t  } else if (isObject(handler)) {\n\t    args = Array.prototype.slice.call(arguments, 1);\n\t    listeners = handler.slice();\n\t    len = listeners.length;\n\t    for (i = 0; i < len; i++) {\n\t      listeners[i].apply(this, args);\n\t    }\n\t  }\n\t\n\t  return true;\n\t};\n\t\n\tEventEmitter.prototype.addListener = function (type, listener) {\n\t  var m;\n\t\n\t  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\t\n\t  if (!this._events) this._events = {};\n\t\n\t  // To avoid recursion in the case that type === \"newListener\"! Before\n\t  // adding it to the listeners, first emit \"newListener\".\n\t  if (this._events.newListener) this.emit('newListener', type, isFunction(listener.listener) ? listener.listener : listener);\n\t\n\t  if (!this._events[type])\n\t    // Optimize the case of one listener. Don't need the extra array object.\n\t    this._events[type] = listener;else if (isObject(this._events[type]))\n\t    // If we've already got an array, just append.\n\t    this._events[type].push(listener);else\n\t    // Adding the second element, need to change to array.\n\t    this._events[type] = [this._events[type], listener];\n\t\n\t  // Check for listener leak\n\t  if (isObject(this._events[type]) && !this._events[type].warned) {\n\t    if (!isUndefined(this._maxListeners)) {\n\t      m = this._maxListeners;\n\t    } else {\n\t      m = EventEmitter.defaultMaxListeners;\n\t    }\n\t\n\t    if (m && m > 0 && this._events[type].length > m) {\n\t      this._events[type].warned = true;\n\t      console.error('(node) warning: possible EventEmitter memory ' + 'leak detected. %d listeners added. ' + 'Use emitter.setMaxListeners() to increase limit.', this._events[type].length);\n\t      if (typeof console.trace === 'function') {\n\t        // not supported in IE 10\n\t        console.trace();\n\t      }\n\t    }\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\t\n\tEventEmitter.prototype.once = function (type, listener) {\n\t  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\t\n\t  var fired = false;\n\t\n\t  function g() {\n\t    this.removeListener(type, g);\n\t\n\t    if (!fired) {\n\t      fired = true;\n\t      listener.apply(this, arguments);\n\t    }\n\t  }\n\t\n\t  g.listener = listener;\n\t  this.on(type, g);\n\t\n\t  return this;\n\t};\n\t\n\t// emits a 'removeListener' event iff the listener was removed\n\tEventEmitter.prototype.removeListener = function (type, listener) {\n\t  var list, position, length, i;\n\t\n\t  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\t\n\t  if (!this._events || !this._events[type]) return this;\n\t\n\t  list = this._events[type];\n\t  length = list.length;\n\t  position = -1;\n\t\n\t  if (list === listener || isFunction(list.listener) && list.listener === listener) {\n\t    delete this._events[type];\n\t    if (this._events.removeListener) this.emit('removeListener', type, listener);\n\t  } else if (isObject(list)) {\n\t    for (i = length; i-- > 0;) {\n\t      if (list[i] === listener || list[i].listener && list[i].listener === listener) {\n\t        position = i;\n\t        break;\n\t      }\n\t    }\n\t\n\t    if (position < 0) return this;\n\t\n\t    if (list.length === 1) {\n\t      list.length = 0;\n\t      delete this._events[type];\n\t    } else {\n\t      list.splice(position, 1);\n\t    }\n\t\n\t    if (this._events.removeListener) this.emit('removeListener', type, listener);\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.removeAllListeners = function (type) {\n\t  var key, listeners;\n\t\n\t  if (!this._events) return this;\n\t\n\t  // not listening for removeListener, no need to emit\n\t  if (!this._events.removeListener) {\n\t    if (arguments.length === 0) this._events = {};else if (this._events[type]) delete this._events[type];\n\t    return this;\n\t  }\n\t\n\t  // emit removeListener for all listeners on all events\n\t  if (arguments.length === 0) {\n\t    for (key in this._events) {\n\t      if (key === 'removeListener') continue;\n\t      this.removeAllListeners(key);\n\t    }\n\t    this.removeAllListeners('removeListener');\n\t    this._events = {};\n\t    return this;\n\t  }\n\t\n\t  listeners = this._events[type];\n\t\n\t  if (isFunction(listeners)) {\n\t    this.removeListener(type, listeners);\n\t  } else if (listeners) {\n\t    // LIFO order\n\t    while (listeners.length) {\n\t      this.removeListener(type, listeners[listeners.length - 1]);\n\t    }\n\t  }\n\t  delete this._events[type];\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.listeners = function (type) {\n\t  var ret;\n\t  if (!this._events || !this._events[type]) ret = [];else if (isFunction(this._events[type])) ret = [this._events[type]];else ret = this._events[type].slice();\n\t  return ret;\n\t};\n\t\n\tEventEmitter.prototype.listenerCount = function (type) {\n\t  if (this._events) {\n\t    var evlistener = this._events[type];\n\t\n\t    if (isFunction(evlistener)) return 1;else if (evlistener) return evlistener.length;\n\t  }\n\t  return 0;\n\t};\n\t\n\tEventEmitter.listenerCount = function (emitter, type) {\n\t  return emitter.listenerCount(type);\n\t};\n\t\n\tfunction isFunction(arg) {\n\t  return typeof arg === 'function';\n\t}\n\t\n\tfunction isNumber(arg) {\n\t  return typeof arg === 'number';\n\t}\n\t\n\tfunction isObject(arg) {\n\t  return (typeof arg === 'undefined' ? 'undefined' : _typeof(arg)) === 'object' && arg !== null;\n\t}\n\t\n\tfunction isUndefined(arg) {\n\t  return arg === void 0;\n\t}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {\"use strict\";\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t!function (e, t) {\n\t  \"object\" == ( false ? \"undefined\" : _typeof(exports)) && \"object\" == ( false ? \"undefined\" : _typeof(module)) ? module.exports = t() :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (t), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) ? exports[\"x2-service-storage\"] = t() : e[\"x2-service-storage\"] = t();\n\t}(undefined, function () {\n\t  return function (e) {\n\t    function t(r) {\n\t      if (o[r]) return o[r].exports;var n = o[r] = { exports: {}, id: r, loaded: !1 };return e[r].call(n.exports, n, n.exports, t), n.loaded = !0, n.exports;\n\t    }var o = {};return t.m = e, t.c = o, t.p = \"\", t(0);\n\t  }([function (e, t) {\n\t    \"use strict\";\n\t    function o(e, t) {\n\t      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n\t    }Object.defineProperty(t, \"__esModule\", { value: !0 });var r = \"function\" == typeof Symbol && \"symbol\" == _typeof(Symbol.iterator) ? function (e) {\n\t      return typeof e === \"undefined\" ? \"undefined\" : _typeof(e);\n\t    } : function (e) {\n\t      return e && \"function\" == typeof Symbol && e.constructor === Symbol ? \"symbol\" : typeof e === \"undefined\" ? \"undefined\" : _typeof(e);\n\t    },\n\t        n = function () {\n\t      function e(e, t) {\n\t        for (var o = 0; o < t.length; o++) {\n\t          var r = t[o];r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n\t        }\n\t      }return function (t, o, r) {\n\t        return o && e(t.prototype, o), r && e(t, r), t;\n\t      };\n\t    }();if (!window) throw new Error(\"Missing window object.\");if (!window.localStorage) throw new Error(\"localStorage is not supported.\");if (!window.sessionStorage) throw new Error(\"sessionStorage is not supported.\");var i = function () {\n\t      function e(t) {\n\t        o(this, e), this.storage = t && \"session\" === t.toLowerCase() ? window.sessionStorage : window.localStorage;\n\t      }return n(e, [{ key: \"get\", value: function value(e) {\n\t          var t = this.storage.getItem(e);if (\"string\" != typeof t) return t;try {\n\t            return JSON.parse(t);\n\t          } catch (o) {\n\t            return t || void 0;\n\t          }\n\t        } }, { key: \"getAll\", value: function value() {\n\t          var e = this;return Array.apply(0, new Array(this.storage.length)).map(function (t, o) {\n\t            return e.storage.key(o);\n\t          });\n\t        } }, { key: \"set\", value: function value(e, t) {\n\t          if (e) return t = \"object\" === (\"undefined\" == typeof t ? \"undefined\" : r(t)) ? JSON.stringify(t) : t, this.storage.setItem(e, t), t;\n\t        } }, { key: \"remove\", value: function value(e) {\n\t          this.storage.removeItem(e);\n\t        } }, { key: \"clear\", value: function value() {\n\t          this.storage.clear();\n\t        } }]), e;\n\t    }();t[\"default\"] = i, e.exports = t[\"default\"];\n\t  }]);\n\t});\n\t//# sourceMappingURL=x2-service-storage.min.js.map\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)(module)))\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function (module) {\n\t\tif (!module.webpackPolyfill) {\n\t\t\tmodule.deprecate = function () {};\n\t\t\tmodule.paths = [];\n\t\t\t// module.parent = undefined by default\n\t\t\tmodule.children = [];\n\t\t\tmodule.webpackPolyfill = 1;\n\t\t}\n\t\treturn module;\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar exec = __webpack_require__(7);\n\t\n\tvar TimeoutPromise = function (_Promise) {\n\t  _inherits(TimeoutPromise, _Promise);\n\t\n\t  function TimeoutPromise(fn, duration) {\n\t    _classCallCheck(this, TimeoutPromise);\n\t\n\t    if (typeof fn === 'number') {\n\t      duration = fn;\n\t      fn = undefined;\n\t    }\n\t    var timeoutData = null;\n\t\n\t    var _this = _possibleConstructorReturn(this, (TimeoutPromise.__proto__ || Object.getPrototypeOf(TimeoutPromise)).call(this, function (resolve, reject) {\n\t      timeoutData = { resolve: resolve, reject: reject, fn: fn, duration: duration };\n\t      if (typeof duration === 'number') {\n\t        timeoutData.timeoutId = global.setTimeout(function () {\n\t          exec(fn).then(resolve).catch(reject);\n\t        }, duration);\n\t      } else {\n\t        fn(resolve, reject);\n\t      }\n\t    }));\n\t\n\t    _this._parent = null;\n\t    _this._timeoutData = timeoutData;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(TimeoutPromise, [{\n\t    key: 'then',\n\t    value: function then(fn) {\n\t      var promise = _get(TimeoutPromise.prototype.__proto__ || Object.getPrototypeOf(TimeoutPromise.prototype), 'then', this).call(this, fn);\n\t      promise._parent = this;\n\t      return promise;\n\t    }\n\t  }, {\n\t    key: 'clear',\n\t    value: function clear(val) {\n\t      var timeoutData = this._timeoutData;\n\t      global.clearTimeout(timeoutData.timeoutId);\n\t      timeoutData.resolve(val);\n\t    }\n\t  }, {\n\t    key: 'reset',\n\t    value: function reset() {\n\t      var timeoutData = this._timeoutData;\n\t      global.clearTimeout(timeoutData.timeoutId);\n\t      timeoutData.timeoutId = global.setTimeout(function () {\n\t        exec(timeoutData.fn).then(timeoutData.resolve).catch(timeoutData.reject);\n\t      }, timeoutData.duration);\n\t    }\n\t  }, {\n\t    key: '_timeoutData',\n\t    get: function get() {\n\t      return this._parent ? this._parent._timeoutData : this.__timeoutData;\n\t    },\n\t    set: function set(timeoutData) {\n\t      this.__timeoutData = timeoutData;\n\t    }\n\t  }]);\n\t\n\t  return TimeoutPromise;\n\t}(Promise);\n\t\n\tvar setTimeout = function setTimeout(fn) {\n\t  var d = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\t\n\t  return new TimeoutPromise(fn, d);\n\t};\n\t\n\texports = module.exports = setTimeout;\n\texports.TimeoutPromise = TimeoutPromise;\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar exec = function exec(fn) {\n\t  try {\n\t    var val = typeof fn === 'function' ? fn() : fn;\n\t    if (!val || (typeof val === 'undefined' ? 'undefined' : _typeof(val)) !== 'object' || typeof val.then !== 'function') {\n\t      return Promise.resolve(val);\n\t    }\n\t    return val;\n\t  } catch (err) {\n\t    return Promise.reject(err);\n\t  }\n\t};\n\t\n\tmodule.exports = exec;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar exec = __webpack_require__(7);\n\t\n\tvar IntervalPromise = function (_Promise) {\n\t  _inherits(IntervalPromise, _Promise);\n\t\n\t  function IntervalPromise(fn, duration) {\n\t    _classCallCheck(this, IntervalPromise);\n\t\n\t    var _resolve = void 0,\n\t        _intervalId = void 0;\n\t\n\t    var _this = _possibleConstructorReturn(this, (IntervalPromise.__proto__ || Object.getPrototypeOf(IntervalPromise)).call(this, function (resolve, reject) {\n\t      _resolve = resolve;\n\t      if (typeof duration === 'number') {\n\t        _intervalId = global.setInterval(function () {\n\t          exec(fn).catch(function (err) {\n\t            clearInterval(_intervalId);\n\t            reject(err);\n\t          });\n\t        }, duration);\n\t      } else {\n\t        fn(resolve, reject);\n\t      }\n\t    }));\n\t\n\t    _this._intervalId = _intervalId;\n\t    _this._resolve = _resolve;\n\t    return _this;\n\t  }\n\t\n\t  _createClass(IntervalPromise, [{\n\t    key: 'then',\n\t    value: function then(fn) {\n\t      var promise = _get(IntervalPromise.prototype.__proto__ || Object.getPrototypeOf(IntervalPromise.prototype), 'then', this).call(this, fn);\n\t      promise._intervalId = this._intervalId;\n\t      promise._resolve = this._resolve;\n\t      return promise;\n\t    }\n\t  }, {\n\t    key: 'clear',\n\t    value: function clear(val) {\n\t      clearInterval(this._intervalId);\n\t      this._resolve(val);\n\t    }\n\t  }]);\n\t\n\t  return IntervalPromise;\n\t}(Promise);\n\t\n\tvar setInterval = function setInterval(fn) {\n\t  var d = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\t\n\t  return new IntervalPromise(fn, d);\n\t};\n\t\n\texports = module.exports = setInterval;\n\texports.IntervalPromise = IntervalPromise;\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** http-client.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 22f31f2e9149057ed41d\n **/","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = (xhr.getAllResponseHeaders() || '').trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/whatwg-fetch/fetch.js\n **/","import 'whatwg-fetch';\nimport { EventEmitter } from 'events';\nimport Storage          from '@fintechdev/x2-service-storage';\nimport setTimeout       from 'relign/set-timeout';\nimport setInterval      from 'relign/set-interval';\n\n\nclass HTTP extends EventEmitter {\n  constructor() {\n    super();\n\n    this.token           = null;\n    this.tokenExpiriesAt = null;\n\n    this._baseUrl     = '';\n    this._middlewares = [];\n\n    this._storage                 = new Storage();\n    this._inactivityCheckInterval = null;\n    this._tokenRenewTimeout       = null;\n    this._inactivityTimeout       = null;\n    this._pageActivityDetected    = false;\n    this._watchForPageActivity    = false;\n\n    this._restoreExistingSession();\n\n    this.isAuthenticated = this.token !== null;\n  }\n\n  init(opts = {}) {\n    this._baseUrl     = opts.baseUrl;\n    this._middlewares = opts.middlewares || [];\n  }\n\n  async get(path, params, auth = true) {\n    const url    = `${this._baseUrl}${path}`;\n    const config = this._runMiddlewares(this._fetchOptions({ body: params }), auth);\n\n    const response = await fetch(url, config);\n    return await this._responseHandler(response);\n  }\n\n  async post(path, data, auth = true) {\n    const url    = `${this._baseUrl}${path}`;\n    const config = this._runMiddlewares(this._fetchOptions({ body: data, method: 'POST' }), auth);\n\n    const response = await fetch(url, config);\n    return await this._responseHandler(response);\n  }\n\n  async put(path, data, auth = true) {\n    const url    = `${this._baseUrl}${path}`;\n    const config = this._runMiddlewares(this._fetchOptions({ body: data, method: 'PUT' }), auth);\n\n    const response = await fetch(url, config);\n    return await this._responseHandler(response);\n  }\n\n  async del(path, auth = true) {\n    const url    = `${this._baseUrl}${path}`;\n    const config = this._runMiddlewares(this._fetchOptions({ method: 'DELETE' }), auth);\n\n    const response = await fetch(url, config);\n    return await this._responseHandler(response);\n  }\n\n  watchForInactivity() {\n    if (this._watchForPageActivity) { return; }\n    window.addEventListener('keydown',   () => { this._pageActivityDetected = true; });\n    window.addEventListener('mousemove', () => { this._pageActivityDetected = true; });\n    this._watchForPageActivity = true;\n  }\n\n  async login(email, password) {\n    const res = await this.post('/token', { email, password });\n\n    this.isAuthenticated = true;\n    this.token           = res.token;\n    this.tokenExpiriesAt = res.expiresAt;\n\n    this._storage.set('token', res.token);\n    this._storage.set('tokenExpiriesAt', res.expiresAt);\n\n    if (this._watchForPageActivity) {\n      this._startRenewTokenLoop();\n    }\n  }\n\n  async logout() {\n    this.isAuthenticated = false;\n    delete this.token;\n    this._storage.remove('token');\n    this._storage.remove('tokenExpiriesAt');\n\n    this._stopRenewTokenLoop();\n  }\n\n  async requestPasswordReset(email) {\n    await this.post(`/user/send-password-reset/${email}`);\n  }\n\n  async passwordReset(newPassword, passwordResetToken) {\n    await this.post(`/user/reset-password/${passwordResetToken}`, { newPassword });\n  }\n\n  _restoreExistingSession() {\n    this.token = this._storage.get('token') || null;\n  }\n\n  _startRenewTokenLoop() {\n    const startTokenRenewTimeout = async () => {\n      if (this._tokenRenewTimeout) {\n        this._tokenRenewTimeout.clear();\n        this._tokenRenewTimeout = null;\n      }\n\n      const renewTokenIn = (new Date(this._tokenExpiriesAt)).getTime() - Date.now();\n\n      this._tokenRenewTimeout = setTimeout(async () => {\n        const res = await this.put('/token');\n\n        this.tokenExpiriesAt = res.expiresAt;\n        this._storage.set('tokenExpiriesAt', res.expiresAt);\n      }, renewTokenIn);\n    };\n\n    const startInactivityTimeout = async () => {\n      if (this._inactivityTimeout) {\n        this._inactivityTimeout.clear();\n        this._inactivityTimeout = null;\n      }\n      this._inactivityTimeout = setTimeout(() => {\n        this.delete('/token');\n        this.emit('session-expired');\n      }, 1000 * 20); // 20 minutes\n    };\n\n    const inactivityCheck = () => {\n      if (this._pageActivityDetected) {\n        this._pageActivityDetected = false;\n        return;\n      }\n      startInactivityTimeout();\n    };\n\n    this._inactivityCheckInterval = setInterval(inactivityCheck, 500);\n    startTokenRenewTimeout();\n  }\n\n  _stopRenewTokenLoop() {\n    if (this._tokenRenewTimeout) {\n      this._tokenRenewTimeout.clear();\n      this._tokenRenewTimeout = null;\n    }\n    if (this._inactivityTimeout) {\n      this._inactivityTimeout.clear();\n      this._inactivityTimeout = null;\n    }\n    if (this._inactivityCheckInterval) {\n      this._inactivityCheckInterval.clear();\n      this._inactivityCheckInterval = null;\n    }\n  }\n\n  _fetchOptions(opts = {}) {\n    const headers = { 'Content-Type': 'application/json' };\n    if (this.isAuthenticated) { headers.authorization = this.token; }\n    return {\n      method : opts.method || 'GET',\n      body   : opts.body ? JSON.stringify(opts.body) : undefined,\n      headers\n    };\n  }\n\n  async _responseHandler(response) {\n    if (response.ok) { return await response.json(); }\n    this.emit('http-client:error', {\n      status    : response.status,\n      statusText: response.statusText\n    });\n    throw new Error(`${response.status}: ${response.statusText}`);\n  }\n\n  _runMiddlewares(config, auth) {\n    this._middlewares.forEach(middleware => middleware(config, auth));\n    return config;\n  }\n}\n\nconst http = new HTTP();\nhttp.HTTP = HTTP;\nexport default http;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/events/events.js\n **/","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"x2-service-storage\",[],t):\"object\"==typeof exports?exports[\"x2-service-storage\"]=t():e[\"x2-service-storage\"]=t()}(this,function(){return function(e){function t(r){if(o[r])return o[r].exports;var n=o[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var o={};return t.m=e,t.c=o,t.p=\"\",t(0)}([function(e,t){\"use strict\";function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol?\"symbol\":typeof e},n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}();if(!window)throw new Error(\"Missing window object.\");if(!window.localStorage)throw new Error(\"localStorage is not supported.\");if(!window.sessionStorage)throw new Error(\"sessionStorage is not supported.\");var i=function(){function e(t){o(this,e),this.storage=t&&\"session\"===t.toLowerCase()?window.sessionStorage:window.localStorage}return n(e,[{key:\"get\",value:function(e){var t=this.storage.getItem(e);if(\"string\"!=typeof t)return t;try{return JSON.parse(t)}catch(o){return t||void 0}}},{key:\"getAll\",value:function(){var e=this;return Array.apply(0,new Array(this.storage.length)).map(function(t,o){return e.storage.key(o)})}},{key:\"set\",value:function(e,t){if(e)return t=\"object\"===(\"undefined\"==typeof t?\"undefined\":r(t))?JSON.stringify(t):t,this.storage.setItem(e,t),t}},{key:\"remove\",value:function(e){this.storage.removeItem(e)}},{key:\"clear\",value:function(){this.storage.clear()}}]),e}();t[\"default\"]=i,e.exports=t[\"default\"]}])});\n//# sourceMappingURL=x2-service-storage.min.js.map\n\n\n/** WEBPACK FOOTER **\n ** ./~/@fintechdev/x2-service-storage/lib/x2-service-storage.min.js\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** (webpack)/buildin/module.js\n **/","const exec = require('./exec');\n\n\nclass TimeoutPromise extends Promise {\n\n  constructor(fn, duration) {\n    if (typeof fn === 'number') {\n      duration = fn;\n      fn       = undefined;\n    }\n    let timeoutData = null;\n    super((resolve, reject) => {\n      timeoutData = { resolve, reject, fn, duration };\n      if (typeof duration === 'number') {\n        timeoutData.timeoutId = global.setTimeout(() => {\n          exec(fn).then(resolve).catch(reject);\n        }, duration);\n      } else {\n        fn(resolve, reject);\n      }\n    });\n\n    this._parent      = null;\n    this._timeoutData = timeoutData;\n  }\n\n  get _timeoutData() {\n    return this._parent ? this._parent._timeoutData : this.__timeoutData;\n  }\n\n  set _timeoutData(timeoutData) {\n    this.__timeoutData = timeoutData;\n  }\n\n  then(fn) {\n    const promise   = super.then(fn);\n    promise._parent = this;\n    return promise;\n  }\n\n  clear(val) {\n    const timeoutData = this._timeoutData;\n    global.clearTimeout(timeoutData.timeoutId);\n    timeoutData.resolve(val);\n  }\n\n  reset() {\n    const timeoutData = this._timeoutData;\n    global.clearTimeout(timeoutData.timeoutId);\n    timeoutData.timeoutId = global.setTimeout(() => {\n      exec(timeoutData.fn).then(timeoutData.resolve).catch(timeoutData.reject);\n    }, timeoutData.duration);\n  }\n}\n\nconst setTimeout = (fn, d = 0) => {\n  return new TimeoutPromise(fn, d);\n};\n\n\nexports = module.exports = setTimeout;\nexports.TimeoutPromise = TimeoutPromise;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/relign/set-timeout.js\n **/","\n\nconst exec = (fn) => {\n  try {\n    const val = typeof fn === 'function' ? fn() : fn;\n    if (!val || typeof val !== 'object' || typeof val.then !== 'function') {\n      return Promise.resolve(val);\n    }\n    return val;\n  } catch (err) {\n    return Promise.reject(err);\n  }\n};\n\n\nmodule.exports = exec;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/relign/exec.js\n **/","const exec = require('./exec');\n\n\nclass IntervalPromise extends Promise {\n\n  constructor(fn, duration) {\n    let _resolve, _intervalId;\n    super((resolve, reject) => {\n      _resolve = resolve;\n      if (typeof duration === 'number') {\n        _intervalId = global.setInterval(() => {\n          exec(fn).catch(err => {\n            clearInterval(_intervalId);\n            reject(err);\n          });\n        }, duration);\n      } else {\n        fn(resolve, reject);\n      }\n    });\n    this._intervalId = _intervalId;\n    this._resolve    = _resolve;\n  }\n\n  then(fn) {\n    const promise       = super.then(fn);\n    promise._intervalId = this._intervalId;\n    promise._resolve    = this._resolve;\n    return promise;\n  }\n\n  clear(val) {\n    clearInterval(this._intervalId);\n    this._resolve(val);\n  }\n}\n\nconst setInterval = (fn, d = 0) => {\n  return new IntervalPromise(fn, d);\n};\n\n\nexports = module.exports = setInterval;\nexports.IntervalPromise = IntervalPromise;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/relign/set-interval.js\n **/"],"sourceRoot":""}