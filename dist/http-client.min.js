!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("http-client",[],t):"object"==typeof exports?exports["http-client"]=t():e["http-client"]=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1),e.exports=n(2)},function(e,t){"use strict";!function(e){function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return y.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function s(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function u(e){var t=new FileReader;return t.readAsArrayBuffer(e),s(t)}function a(e){var t=new FileReader;return t.readAsText(e),s(t)}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(y.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(y.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!y.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob?(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(u)},this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return a(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=i(this);return e?e:Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}function l(e,t){t=t||{};var n=t.body;if(l.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function p(e){var t=new o,n=(e.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),o=n.join(":").trim();t.append(r,o)}),t}function d(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof o?t.headers:new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var y={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};o.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];o||(o=[],this.map[e]=o),o.push(r)},o.prototype["delete"]=function(e){delete this.map[t(e)]},o.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},o.prototype.getAll=function(e){return this.map[t(e)]||[]},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,r){this.map[t(e)]=[n(r)]},o.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},y.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this)},c.call(l.prototype),c.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},d.error=function(){var e=new d(null,{status:0,statusText:""});return e.type="error",e};var m=[301,302,303,307,308];d.redirect=function(e,t){if(m.indexOf(t)===-1)throw new RangeError("Invalid status code");return new d(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=l,e.Response=d,e.fetch=function(e,t){return new Promise(function(n,r){function o(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}var i;i=l.prototype.isPrototypeOf(e)&&!t?e:new l(e,t);var s=new XMLHttpRequest;s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:p(s),url:o()},t="response"in s?s.response:s.responseText;n(new d(t,e))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),"include"===i.credentials&&(s.withCredentials=!0),"responseType"in s&&y.blob&&(s.responseType="blob"),i.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var s=t[o](i),u=s.value}catch(a){return void n(a)}return s.done?void e(u):Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(1);var c=n(3),f=n(4),l=r(f),h=n(6),p=r(h),d=n(8),y=r(d),v=function(e){function t(){i(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.token=null,e.tokenExpiriesAt=null,e._baseUrl="",e._middlewares=[],e._storage=new l["default"],e._inactivityCheckInterval=null,e._tokenRenewTimeout=null,e._inactivityTimeout=null,e._pageActivityDetected=!1,e._watchForPageActivity=!1,e._restoreExistingSession(),e.isAuthenticated=null!==e.token,e}return u(t,e),a(t,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._baseUrl=e.baseUrl,this._middlewares=e.middlewares||[]}},{key:"get",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(e,t){var r,o,i,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=""+this._baseUrl+e,o=this._runMiddlewares(this._fetchOptions({body:t}),s),n.next=4,fetch(r,o);case 4:return i=n.sent,n.next=7,this._responseHandler(i);case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}},n,this)}));return e}()},{key:"post",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(e,t){var r,o,i,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=""+this._baseUrl+e,o=this._runMiddlewares(this._fetchOptions({body:t,method:"POST"}),s),n.next=4,fetch(r,o);case 4:return i=n.sent,n.next=7,this._responseHandler(i);case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}},n,this)}));return e}()},{key:"put",value:function(){function e(e,n,r){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(e,t){var r,o,i,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=""+this._baseUrl+e,o=this._runMiddlewares(this._fetchOptions({body:t,method:"PUT"}),s),n.next=4,fetch(r,o);case 4:return i=n.sent,n.next=7,this._responseHandler(i);case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}},n,this)}));return e}()},{key:"del",value:function(){function e(e,n){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(e){var t,r,o,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=""+this._baseUrl+e,r=this._runMiddlewares(this._fetchOptions({method:"DELETE"}),i),n.next=4,fetch(t,r);case 4:return o=n.sent,n.next=7,this._responseHandler(o);case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}},n,this)}));return e}()},{key:"watchForInactivity",value:function(){var e=this;this._watchForPageActivity||(window.addEventListener("keydown",function(){e._pageActivityDetected=!0}),window.addEventListener("mousemove",function(){e._pageActivityDetected=!0}),this._watchForPageActivity=!0)}},{key:"login",value:function(){function e(e,n){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(e,t){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.post("/token",{email:e,password:t});case 2:r=n.sent,this.isAuthenticated=!0,this.token=r.token,this.tokenExpiriesAt=r.expiresAt,this._storage.set("token",r.token),this._storage.set("tokenExpiriesAt",r.expiresAt),this._watchForPageActivity&&this._startRenewTokenLoop();case 9:case"end":return n.stop()}},n,this)}));return e}()},{key:"logout",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.isAuthenticated=!1,delete this.token,this._storage.remove("token"),this._storage.remove("tokenExpiriesAt"),this._stopRenewTokenLoop();case 5:case"end":return e.stop()}},n,this)}));return e}()},{key:"requestPasswordReset",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.post("/user/send-password-reset/"+e);case 2:case"end":return t.stop()}},n,this)}));return e}()},{key:"passwordReset",value:function(){function e(e,n){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(e,t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.post("/user/reset-password/"+t,{newPassword:e});case 2:case"end":return n.stop()}},n,this)}));return e}()},{key:"_restoreExistingSession",value:function(){this.token=this._storage.get("token")||null}},{key:"_startRenewTokenLoop",value:function(){var e=this,t=function(){var t=o(regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e._tokenRenewTimeout&&(e._tokenRenewTimeout.clear(),e._tokenRenewTimeout=null),t=new Date(e._tokenExpiriesAt).getTime()-Date.now(),e._tokenRenewTimeout=(0,p["default"])(o(regeneratorRuntime.mark(function r(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.put("/token");case 2:t=n.sent,e.tokenExpiriesAt=t.expiresAt,e._storage.set("tokenExpiriesAt",t.expiresAt);case 5:case"end":return n.stop()}},r,e)})),t);case 3:case"end":return n.stop()}},n,e)}));return function(){return t.apply(this,arguments)}}(),n=function(){var t=o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e._inactivityTimeout&&(e._inactivityTimeout.clear(),e._inactivityTimeout=null),e._inactivityTimeout=(0,p["default"])(function(){e["delete"]("/token"),e.emit("session-expired")},2e4);case 2:case"end":return t.stop()}},n,e)}));return function(){return t.apply(this,arguments)}}(),r=function(){return e._pageActivityDetected?void(e._pageActivityDetected=!1):void n()};this._inactivityCheckInterval=(0,y["default"])(r,500),t()}},{key:"_stopRenewTokenLoop",value:function(){this._tokenRenewTimeout&&(this._tokenRenewTimeout.clear(),this._tokenRenewTimeout=null),this._inactivityTimeout&&(this._inactivityTimeout.clear(),this._inactivityTimeout=null),this._inactivityCheckInterval&&(this._inactivityCheckInterval.clear(),this._inactivityCheckInterval=null)}},{key:"_fetchOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={"Content-Type":"application/json"};return this.isAuthenticated&&(t.authorization=this.token),{method:e.method||"GET",body:e.body?JSON.stringify(e.body):void 0,headers:t}}},{key:"_responseHandler",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function n(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.ok){t.next=4;break}return t.next=3,e.json();case 3:return t.abrupt("return",t.sent);case 4:throw this.emit("http-client:error",{status:e.status,statusText:e.statusText}),new Error(e.status+": "+e.statusText);case 6:case"end":return t.stop()}},n,this)}));return e}()},{key:"_runMiddlewares",value:function(e,t){return this._middlewares.forEach(function(n){return n(e,t)}),e}}]),t}(c.EventEmitter),m=new v;m.HTTP=v,t["default"]=m,e.exports=t["default"]},function(e,t){"use strict";function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"===("undefined"==typeof e?"undefined":u(e))&&null!==e}function s(e){return void 0===e}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,u,a,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(n=this._events[e],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(i(n))for(u=Array.prototype.slice.call(arguments,1),c=n.slice(),o=c.length,a=0;a<o;a++)c[a].apply(this,u);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,s,u;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(u=s;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){o=u;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){var r,o,i;(function(e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,u){"object"==n(t)&&"object"==n(e)?e.exports=u():(o=[],r=u,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i)))}(void 0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":n(e)},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();if(!window)throw new Error("Missing window object.");if(!window.localStorage)throw new Error("localStorage is not supported.");if(!window.sessionStorage)throw new Error("sessionStorage is not supported.");var s=function(){function e(t){r(this,e),this.storage=t&&"session"===t.toLowerCase()?window.sessionStorage:window.localStorage}return i(e,[{key:"get",value:function(e){var t=this.storage.getItem(e);if("string"!=typeof t)return t;try{return JSON.parse(t)}catch(n){return t||void 0}}},{key:"getAll",value:function(){var e=this;return Array.apply(0,new Array(this.storage.length)).map(function(t,n){return e.storage.key(n)})}},{key:"set",value:function(e,t){if(e)return t="object"===("undefined"==typeof t?"undefined":o(t))?JSON.stringify(t):t,this.storage.setItem(e,t),t}},{key:"remove",value:function(e){this.storage.removeItem(e)}},{key:"clear",value:function(){this.storage.clear()}}]),e}();t["default"]=s,e.exports=t["default"]}])})}).call(t,n(5)(e))},function(e,t){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){(function(r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function h(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:h(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(7),f=function(e){function t(e,n){o(this,t),"number"==typeof e&&(n=e,e=void 0);var s=null,u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,function(t,o){s={resolve:t,reject:o,fn:e,duration:n},"number"==typeof n?s.timeoutId=r.setTimeout(function(){c(e).then(t)["catch"](o)},n):e(t,o)}));return u._parent=null,u._timeoutData=s,u}return s(t,e),u(t,[{key:"then",value:function(e){var n=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"then",this).call(this,e);return n._parent=this,n}},{key:"clear",value:function(e){var t=this._timeoutData;r.clearTimeout(t.timeoutId),t.resolve(e)}},{key:"reset",value:function(){var e=this._timeoutData;r.clearTimeout(e.timeoutId),e.timeoutId=r.setTimeout(function(){c(e.fn).then(e.resolve)["catch"](e.reject)},e.duration)}},{key:"_timeoutData",get:function(){return this._parent?this._parent._timeoutData:this.__timeoutData},set:function(e){this.__timeoutData=e}}]),t}(Promise),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new f(e,t)};t=e.exports=l,t.TimeoutPromise=f}).call(t,function(){return this}())},function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e){try{var t="function"==typeof e?e():e;return t&&"object"===("undefined"==typeof t?"undefined":n(t))&&"function"==typeof t.then?t:Promise.resolve(t)}catch(r){return Promise.reject(r)}};e.exports=r},function(e,t,n){(function(r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function h(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:h(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(7),f=function(e){function t(e,n){o(this,t);var s=void 0,u=void 0,a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,function(t,o){s=t,"number"==typeof n?u=r.setInterval(function(){c(e)["catch"](function(e){clearInterval(u),o(e)})},n):e(t,o)}));return a._intervalId=u,a._resolve=s,a}return s(t,e),u(t,[{key:"then",value:function(e){var n=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"then",this).call(this,e);return n._intervalId=this._intervalId,n._resolve=this._resolve,n}},{key:"clear",value:function(e){clearInterval(this._intervalId),this._resolve(e)}}]),t}(Promise),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new f(e,t)};t=e.exports=l,t.IntervalPromise=f}).call(t,function(){return this}())}])});
//# sourceMappingURL=http-client.min.js.map